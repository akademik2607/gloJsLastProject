(()=>{"use strict";(()=>{const e=document.querySelectorAll(".callback-btn"),t=document.querySelector(".modal-callback"),n=document.querySelector(".button-services"),s=document.querySelector(".modal-overlay"),l=document.querySelector(".modal-close"),c=document.querySelector(".services-elements"),o=e=>{e.preventDefault(),s.style.display="block",t.style.display="block"};e.forEach((e=>{e.addEventListener("click",o)})),n.addEventListener("click",o);const i=()=>{s.style.display="none",t.style.display="none"};c.addEventListener("click",(e=>{e.target.matches(".fancyboxModal")&&o(e)})),l.addEventListener("click",i),s.addEventListener("click",i)})(),document.querySelector(".top-menu").addEventListener("click",(e=>{e.preventDefault();const t=e.target;if(t.matches("[href='#services']")){const e=document.getElementById("services");console.dir(e),document.documentElement.scrollTop=e.offsetTop}else if(t.matches("[href='#faq']")){const e=document.getElementById("faq");console.dir(e),document.documentElement.scrollTop=e.offsetTop}else if(t.matches("[href='#contacts']")){const e=document.getElementById("contacts");console.dir(e),document.documentElement.scrollTop=e.offsetTop}})),(()=>{const e=document.querySelector(".up"),t=document.getElementById("services");e.style.display="none",document.addEventListener("scroll",(n=>{document.documentElement.scrollTop<t.offsetTop?e.style.display="none":e.style.display="block"})),e.addEventListener("click",(e=>{let t="";t=setInterval((()=>{document.documentElement.scrollTop>0?document.documentElement.scrollTop-=220:(document.documentElement.scrollTop=0,clearInterval(t))}),50)}))})(),(()=>{(()=>{const e=document.querySelector("body"),t=document.createElement("style");t.textContent=".accordeon .active-content{ display:block;} .accodeon content-element{display: none !important;}",e.append(t)})();const e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element"),n=e.querySelectorAll(".element-content");let s=0;e.addEventListener("click",(e=>{const l=e.target.closest(".element");t[l]!==t[s]&&(t[s].classList.remove("active"),n[s].classList.remove("active-content"),t.forEach(((e,t)=>{l===e&&(s=t)})),t[s].classList.add("active"),n[s].classList.add("active-content"))}))})(),(()=>{const e=document.querySelectorAll("form"),t=document.createElement("div");e.forEach((e=>{e.addEventListener("submit",(()=>{event.preventDefault(),e.append(t);const n=e.querySelector('input[name="fio"]'),s=e.querySelector('input[name="tel"]');if(n.value.trim().length<2||s.value.trim().length>11||s.value.trim().length<6)return;const l=new XMLHttpRequest;l.addEventListener("readystatechange",(()=>{t.textContent="Загрузка...",4===l.readyState&&(200===l.status?t.textContent="Спасибо, мы скоро с Вами свяжемся!":t.textContent="Ошибка!",setTimeout((()=>{t.textContent=""}),5e3))})),l.open("POST","./server.php"),l.setRequestHeader("Content-Type","application/json");const c=new FormData(e);n.value="",s.value="";const o={};c.forEach(((e,t)=>{o[t]=e})),l.send(JSON.stringify(o))}))}))})(),(()=>{const e=document.querySelectorAll('input[name="tel"]'),t=document.querySelectorAll('input[name="fio"]');e.forEach((e=>{e.addEventListener("input",(e=>{const t=e.target;t.value=t.value.replace(/[^\d\+]/,"")})),e.maxLength="11"})),t.forEach((e=>{e.addEventListener("input",(e=>{const t=e.target;t.value=t.value.replace(/[^а-яА-Я]/,"")}))}))})(),(()=>{const e=document.querySelector(".services-carousel"),t=[...e.children],n=document.querySelector(".services-arrow");let s=0;e.style.display="flex",t.forEach((e=>{e.style.flex="0 0 33%"})),n.addEventListener("click",(n=>{const l=n.target;if(l.matches(".arrow-left")){if(s===-(t.length-3))return;--s,e.style.transform=`translateX(${t[0].offsetWidth*s}px)`}else{if(!l.matches(".arrow-right"))return;if(0===s)return;++s,e.style.transform=`translateX(${t[0].offsetWidth*s}px)`}}))})(),new class{constructor(e){this.slider=document.querySelector(e),this.items=this.slider.querySelectorAll(".item"),this.currentSlide=0,this.createDots(),this.dots=this.slider.querySelectorAll(".slick-dots li"),this.sliderAnimation(),this.indInterval=""}prevSlide(){this.currentSlide>0?this.currentSlide--:this.currentSlide=0}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}removeActive(){this.removeClass(this.items[this.currentSlide],"active"),this.removeClass(this.dots[this.currentSlide],"slick-active")}addActive(){this.addClass(this.items[this.currentSlide],"active"),this.addClass(this.dots[this.currentSlide],"slick-active")}nextSlide(){this.currentSlide<this.items.length-1?this.currentSlide++:this.currentSlide=0}sliderAnimation(){this.removeActive(),this.nextSlide(),this.addActive()}initAnimation(){this.indInterval=setInterval(this.sliderAnimation.bind(this),3e3),this.clickDots()}createDots(){const e=document.createElement("ul");e.classList.add("slick-dots"),this.slider.append(e);for(let t=0;t<this.items.length;++t){const t=document.createElement("li");e.append(t)}}clickDots(){const e=this.slider.querySelector(".slick-dots");e.addEventListener("mouseover",(e=>{e.target.matches("li")&&clearInterval(this.indInterval)})),e.addEventListener("mouseout",(e=>{e.target.matches("li")&&(this.indInterval=setInterval(this.sliderAnimation.bind(this),3e3))})),e.addEventListener("click",(t=>{const n=t.target;if(n.matches("li")){const t=e.querySelectorAll("li");this.removeActive(),t.forEach(((e,t)=>{e===n&&(this.currentSlide=t,console.log(t))})),console.log(this),console.log(this.currentSlide),console.log("click"),this.addActive()}}))}}(".top-slider").initAnimation()})();