(()=>{"use strict";new class{constructor(e){this.slider=document.querySelector(e),this.items=this.slider.querySelectorAll(".item"),this.currentSlide=0,this.createDots(),this.dots=this.slider.querySelectorAll(".slick-dots li"),this.sliderAnimation(),this.indInterval=""}prevSlide(){this.currentSlide>0?this.currentSlide--:this.currentSlide=0}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}removeActive(){this.removeClass(this.items[this.currentSlide],"active"),this.removeClass(this.dots[this.currentSlide],"slick-active")}addActive(){this.addClass(this.items[this.currentSlide],"active"),this.addClass(this.dots[this.currentSlide],"slick-active")}nextSlide(){this.currentSlide<this.items.length-1?this.currentSlide++:this.currentSlide=0}sliderAnimation(){this.removeActive(),this.nextSlide(),this.addActive()}initAnimation(){this.indInterval=setInterval(this.sliderAnimation.bind(this),3e3),this.clickDots()}createDots(){const e=document.createElement("ul");e.classList.add("slick-dots"),this.slider.append(e);for(let t=0;t<this.items.length;++t){const t=document.createElement("li");e.append(t)}}clickDots(){const e=this.slider.querySelector(".slick-dots");e.addEventListener("mouseover",(e=>{e.target.matches("li")&&clearInterval(this.indInterval)})),e.addEventListener("mouseout",(e=>{e.target.matches("li")&&(this.indInterval=setInterval(this.sliderAnimation.bind(this),3e3))})),e.addEventListener("click",(t=>{const s=t.target;if(s.matches("li")){const t=e.querySelectorAll("li");this.removeActive(),t.forEach(((e,t)=>{e===s&&(this.currentSlide=t,console.log(t))})),console.log(this),console.log(this.currentSlide),this.addActive()}}))}}(".top-slider").initAnimation(),(()=>{const e=document.querySelectorAll(".callback-btn"),t=document.querySelector(".modal-callback"),s=document.querySelector(".button-services"),n=document.querySelector(".modal-overlay"),c=document.querySelector(".modal-close"),l=e=>{e.preventDefault(),n.style.display="block",t.style.display="block"};e.forEach((e=>{e.addEventListener("click",l)})),s.addEventListener("click",l);const o=()=>{n.style.display="none",t.style.display="none"};c.addEventListener("click",o),n.addEventListener("click",o)})(),document.querySelector(".top-menu").addEventListener("click",(e=>{e.preventDefault();const t=e.target;if(t.matches("[href='#services']")){const e=document.getElementById("services");console.dir(e),document.documentElement.scrollTop=e.offsetTop}else if(t.matches("[href='#faq']")){const e=document.getElementById("faq");console.dir(e),document.documentElement.scrollTop=e.offsetTop}else if(t.matches("[href='#contacts']")){const e=document.getElementById("contacts");console.dir(e),document.documentElement.scrollTop=e.offsetTop}})),(()=>{const e=document.querySelector(".up"),t=document.getElementById("services");e.style.display="none",document.addEventListener("scroll",(s=>{document.documentElement.scrollTop<t.offsetTop?e.style.display="none":e.style.display="block"})),e.addEventListener("click",(e=>{let t="";t=setInterval((()=>{document.documentElement.scrollTop>0?document.documentElement.scrollTop-=220:(document.documentElement.scrollTop=0,clearInterval(t))}),50)}))})(),(()=>{(()=>{const e=document.querySelector("body"),t=document.createElement("style");t.textContent=".accordeon .active-content{ display:block;} .accodeon content-element{display: none !important;}",e.append(t)})();const e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element"),s=e.querySelectorAll(".element-content");let n=0;e.addEventListener("click",(e=>{const c=e.target.closest(".element");t[c]!==t[n]&&(t[n].classList.remove("active"),s[n].classList.remove("active-content"),t.forEach(((e,t)=>{c===e&&(n=t)})),t[n].classList.add("active"),s[n].classList.add("active-content"))}))})(),(()=>{const e=document.querySelectorAll("form"),t=document.createElement("div");e.forEach((e=>{e.addEventListener("submit",(()=>{event.preventDefault(),e.append(t);const s=new XMLHttpRequest;s.addEventListener("readystatechange",(()=>{t.textContent="Загрузка...",4===s.readyState&&(200===s.status?t.textContent="Спасибо, мы скоро с Вами свяжемся!":t.textContent="Ошибка!")})),s.open("GET","./server.php"),s.setRequestHeader("Content-Type","application/json");const n=new FormData(e),c={};n.forEach(((e,t)=>{c[t]=e})),s.send(JSON.stringify(c))}))}))})(),(()=>{const e=document.querySelectorAll('input[name="tel"]'),t=document.querySelectorAll('input[name="fio"]');e.forEach((e=>{e.addEventListener("input",(e=>{const t=e.target;t.value=t.value.replace(/[^\d\+]/,"")}))})),t.forEach((e=>{e.addEventListener("input",(e=>{const t=e.target;t.value=t.value.replace(/[^а-яА-Я]/,"")}))}))})()})();